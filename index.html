<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recast Pricing Calculator</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      color-scheme: dark;
    }
  </style>
</head>
<body class="bg-[#0b0f14] text-gray-100 min-h-screen font-sans">
  <div class="max-w-6xl mx-auto px-4 py-6">
    <header class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold text-yellow-400">Recast Pricing Calculator</h1>
      <button class="bg-yellow-400 hover:bg-yellow-500 text-black px-4 py-2 rounded-full flex items-center gap-2">
        <i data-lucide="mail"></i> Copy Email
      </button>
    </header>
    <p class="text-gray-400 mb-6">Estimate only. Not a formal quote.</p>

    <nav class="flex space-x-2 mb-6">
      <button class="tab-btn active" data-tab="customer">Customer Pricing</button>
      <button class="tab-btn" data-tab="partner">Partner Pricing</button>
      <button class="tab-btn" data-tab="sla">Support SLA</button>
    </nav>

    <main>
      <!-- CUSTOMER TAB -->
      <section id="tab-customer" class="tab-content block">
        <div class="bg-[#111827] rounded-2xl p-6 mb-6 shadow">
          <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div>
              <label class="font-semibold block mb-2">User count</label>
              <input id="users" type="number" min="1" value="10" class="w-full bg-[#1f2937] border border-gray-700 rounded-lg px-3 py-2 text-white" />
            </div>
            <div>
              <label class="font-semibold block mb-2">Contract Term</label>
              <select id="term" class="w-full bg-[#1f2937] border border-gray-700 rounded-lg px-3 py-2 text-white">
                <option value="Monthly">Monthly</option>
                <option value="Annual" selected>Annual</option>
              </select>
            </div>
          </div>
          <div class="flex justify-between items-center border-t border-gray-700 pt-4">
            <div>
              <p class="text-gray-400">Base ARR</p>
              <p id="baseArr" class="text-2xl font-bold">$0.00</p>
            </div>
            <div>
              <p class="text-gray-400">Total Contract Value</p>
              <p id="totalContract" class="text-2xl font-bold text-yellow-400">$0.00</p>
            </div>
          </div>
        </div>

        <div class="bg-[#111827] rounded-2xl p-6 shadow">
          <h2 class="text-lg font-semibold mb-4">Customer Quote</h2>
          <table class="w-full text-left border-collapse">
            <thead class="text-gray-400 text-sm">
              <tr>
                <th class="pb-2">Product</th>
                <th class="pb-2">Users</th>
                <th class="pb-2">Base ARR</th>
                <th class="pb-2">Total</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t border-gray-700">
                <td class="py-2">Application Workspace</td>
                <td id="custUsers">0</td>
                <td id="custBase">$0.00</td>
                <td id="custTotal">$0.00</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- PARTNER TAB -->
      <section id="tab-partner" class="tab-content hidden">
        <div class="bg-[#111827] rounded-2xl p-6 shadow mb-6">
          <h2 class="text-lg font-semibold mb-4">Partner Quote (Per Line Item)</h2>
          <table class="w-full text-left border-collapse">
            <thead class="text-gray-400 text-sm">
              <tr>
                <th class="pb-2">Product</th>
                <th class="pb-2">Users</th>
                <th class="pb-2">MSRP (List)</th>
                <th class="pb-2">Net New Margin %</th>
                <th class="pb-2">Net New Margin $</th>
                <th class="pb-2">Net New Partner Price</th>
                <th class="pb-2">Sales Rep Commission (10%)</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t border-gray-700">
                <td>Application Workspace</td>
                <td id="partnerUsers">0</td>
                <td id="partnerMsrp">$0.00</td>
                <td>30%</td>
                <td id="partnerMargin">$0.00</td>
                <td id="partnerPrice">$0.00</td>
                <td id="salesCommission" class="text-red-400 font-semibold">$0.00</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- SUPPORT SLA TAB -->
      <section id="tab-sla" class="tab-content hidden">
        <div class="bg-[#111827] rounded-2xl p-6 shadow">
          <h2 class="text-lg font-semibold mb-4">Support SLA Comparison</h2>
          <table class="w-full text-left border-collapse">
            <thead class="text-gray-400 text-sm">
              <tr>
                <th class="pb-2">Support Level</th>
                <th class="pb-2">Basic</th>
                <th class="pb-2">Premium</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t border-gray-700"><td>Urgent Severity</td><td>1 Business Day</td><td>2 Business Hours</td></tr>
              <tr class="border-t border-gray-700"><td>Normal Severity</td><td>2 Business Days</td><td>4 Business Hours</td></tr>
              <tr class="border-t border-gray-700"><td>Low Severity</td><td>3 Business Days</td><td>8 Business Hours</td></tr>
              <tr class="border-t border-gray-700"><td>Availability</td><td>8am – 5pm CT/CET</td><td>24/7</td></tr>
              <tr class="border-t border-gray-700"><td>Support Hours</td><td>Unlimited</td><td>Unlimited</td></tr>
              <tr class="border-t border-gray-700"><td>Dedicated CSM</td><td>✔</td><td>✔</td></tr>
              <tr class="border-t border-gray-700"><td>Environment Audit</td><td>—</td><td>1× / year</td></tr>
              <tr class="border-t border-gray-700"><td>Configuration Audit</td><td>—</td><td>1× / year</td></tr>
              <tr class="border-t border-gray-700"><td>Upgrade Assistance</td><td>—</td><td>2× / year</td></tr>
              <tr class="border-t border-gray-700"><td>Pricing</td><td>Included</td><td>+20% ARR (min $6,000)</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <script>
    const STATE = { users: 10, term: 'Annual' };

    const PRICING = {
      Monthly: { perUser: 25, months: 1 },
      Annual: { perUser: 250, months: 12 }
    };

    function fmt(v) {
      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(v);
    }

    function calc() {
      const users = parseInt(document.getElementById('users').value) || 0;
      const term = document.getElementById('term').value;
      const p = PRICING[term];
      const baseArr = p.perUser * users;
      const totalContract = term === 'Monthly' ? baseArr : baseArr;
      const margin = totalContract * 0.3;
      const partnerPrice = totalContract - margin;
      const salesCommission = totalContract * 0.1;

      document.getElementById('baseArr').textContent = fmt(baseArr);
      document.getElementById('totalContract').textContent = fmt(totalContract);
      document.getElementById('custUsers').textContent = users;
      document.getElementById('custBase').textContent = fmt(baseArr);
      document.getElementById('custTotal').textContent = fmt(totalContract);
      document.getElementById('partnerUsers').textContent = users;
      document.getElementById('partnerMsrp').textContent = fmt(totalContract);
      document.getElementById('partnerMargin').textContent = fmt(margin);
      document.getElementById('partnerPrice').textContent = fmt(partnerPrice);
      document.getElementById('salesCommission').textContent = fmt(salesCommission);
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('bg-yellow-400', 'text-black', 'active'));
      document.querySelector(`[data-tab="${tab}"]`).classList.add('bg-yellow-400', 'text-black', 'active');
      document.querySelectorAll('.tab-content').forEach(sec => sec.classList.add('hidden'));
      document.getElementById(`tab-${tab}`).classList.remove('hidden');
    }

    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.classList.add('px-4', 'py-2', 'rounded-full', 'bg-[#1f2937]', 'hover:bg-[#374151]', 'transition', 'text-sm');
      btn.addEventListener('click', () => switchTab(btn.dataset.tab));
    });

    document.getElementById('users').addEventListener('input', calc);
    document.getElementById('term').addEventListener('change', calc);

    lucide.createIcons();
    calc();
  </script>
</body>
</html>
